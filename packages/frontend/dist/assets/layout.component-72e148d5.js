import{S as ft,s as Te,n as Ft,i as nt,b as st,t as Qt,f as zt,c as Gt,d as it,e as $t,g as G,h as Xt,r as d,u as ht,p as Ht,k as Yt,j as c,N as Vt,R as p,l as me,m as we,a as E,o as J,q as qt,v as Bt,L as Wt,w as Kt}from"./index-f06cf002.js";class Jt extends ft{constructor(e,r){super(),this.client=e,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),ot(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ce(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ce(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,r){const n=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Te(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const s=this.hasListeners();s&&at(this.currentQuery,i,this.options,n)&&this.executeFetch(),this.updateResult(r),s&&(this.currentQuery!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==n.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const r=this.client.getQueryCache().build(this.client,e);return this.createResult(r,e)}getCurrentResult(){return this.currentResult}trackResult(e){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),e[n])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...r}={}){return this.fetch({...r,meta:{refetchPage:e}})}fetchOptimistic(e){const r=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){var r;return this.executeFetch({...e,cancelRefetch:(r=e.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let r=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Ft)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),nt||this.currentResult.isStale||!st(this.options.staleTime))return;const r=Qt(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(nt||this.options.enabled===!1||!st(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||zt.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,r){const n=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,u=e!==n,l=u?e.state:this.currentQueryInitialState,f=u?this.currentResult:this.previousQueryResult,{state:h}=e;let{dataUpdatedAt:m,error:v,errorUpdatedAt:O,fetchStatus:g,status:b}=h,C=!1,w=!1,S;if(r._optimisticResults){const R=this.hasListeners(),te=!R&&ot(e,r),le=R&&at(e,n,r,i);(te||le)&&(g=Gt(e.options.networkMode)?"fetching":"paused",m||(b="loading")),r._optimisticResults==="isRestoring"&&(g="idle")}if(r.keepPreviousData&&!h.dataUpdatedAt&&f!=null&&f.isSuccess&&b!=="error")S=f.data,m=f.dataUpdatedAt,b=f.status,C=!0;else if(r.select&&typeof h.data<"u")if(s&&h.data===(o==null?void 0:o.data)&&r.select===this.selectFn)S=this.selectResult;else try{this.selectFn=r.select,S=r.select(h.data),S=it(s==null?void 0:s.data,S,r),this.selectResult=S,this.selectError=null}catch(R){this.selectError=R}else S=h.data;if(typeof r.placeholderData<"u"&&typeof S>"u"&&b==="loading"){let R;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))R=s.data;else if(R=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof R<"u")try{R=r.select(R),this.selectError=null}catch(te){this.selectError=te}typeof R<"u"&&(b="success",S=it(s==null?void 0:s.data,R,r),w=!0)}this.selectError&&(v=this.selectError,S=this.selectResult,O=Date.now(),b="error");const X=g==="fetching",ee=b==="loading",H=b==="error";return{status:b,fetchStatus:g,isLoading:ee,isSuccess:b==="success",isError:H,isInitialLoading:ee&&X,data:S,dataUpdatedAt:m,error:v,errorUpdatedAt:O,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>l.dataUpdateCount||h.errorUpdateCount>l.errorUpdateCount,isFetching:X,isRefetching:X&&!ee,isLoadingError:H&&h.dataUpdatedAt===0,isPaused:g==="paused",isPlaceholderData:w,isPreviousData:C,isRefetchError:H&&h.dataUpdatedAt!==0,isStale:je(e,r),refetch:this.refetch,remove:this.remove}}updateResult(e){const r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Te(n,r))return;this.currentResult=n;const i={cache:!0},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options;if(o==="all"||!o&&!this.trackedProps.size)return!0;const a=new Set(o??this.trackedProps);return this.options.useErrorBoundary&&a.add("error"),Object.keys(this.currentResult).some(u=>{const l=u;return this.currentResult[l]!==r[l]&&a.has(l)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const r={};e.type==="success"?r.onSuccess=!e.manual:e.type==="error"&&!$t(e.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(e){G.batch(()=>{if(e.onSuccess){var r,n,i,s;(r=(n=this.options).onSuccess)==null||r.call(n,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,a,u,l;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(u=(l=this.options).onSettled)==null||u.call(l,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:f})=>{f(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Zt(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ot(t,e){return Zt(t,e)||t.state.dataUpdatedAt>0&&Ce(t,e,e.refetchOnMount)}function Ce(t,e,r){if(e.enabled!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&je(t,e)}return!1}function at(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&je(t,r)}function je(t,e){return t.isStaleByTime(e.staleTime)}class er extends ft{constructor(e,r){super(),this.client=e,this.setOptions(r),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const n=this.options;this.options=this.client.defaultMutationOptions(e),Te(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(r=this.currentMutation)==null||r.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const r={listeners:!0};e.type==="success"?r.onSuccess=!0:e.type==="error"&&(r.onError=!0),this.notify(r)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,r){return this.mutateOptions=r,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:Xt(),r={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=r}notify(e){G.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var r,n,i,s;(r=(n=this.mutateOptions).onSuccess)==null||r.call(n,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(s=this.mutateOptions).onSettled)==null||i.call(s,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var o,a,u,l;(o=(a=this.mutateOptions).onError)==null||o.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(u=(l=this.mutateOptions).onSettled)==null||u.call(l,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:f})=>{f(this.currentResult)})})}}var Se={},tr={get exports(){return Se},set exports(t){Se=t}},pt={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z=d;function rr(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nr=typeof Object.is=="function"?Object.is:rr,sr=Z.useState,ir=Z.useEffect,or=Z.useLayoutEffect,ar=Z.useDebugValue;function ur(t,e){var r=e(),n=sr({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return or(function(){i.value=r,i.getSnapshot=e,Re(i)&&s({inst:i})},[t,r,e]),ir(function(){return Re(i)&&s({inst:i}),t(function(){Re(i)&&s({inst:i})})},[t]),ar(r),r}function Re(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!nr(t,r)}catch{return!0}}function lr(t,e){return e()}var cr=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lr:ur;pt.useSyncExternalStore=Z.useSyncExternalStore!==void 0?Z.useSyncExternalStore:cr;(function(t){t.exports=pt})(tr);const _t=Se.useSyncExternalStore,mt=d.createContext(!1),dr=()=>d.useContext(mt);mt.Provider;function fr(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const hr=d.createContext(fr()),pr=()=>d.useContext(hr);function vt(t,e){return typeof t=="function"?t(...e):!!t}const _r=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},mr=t=>{d.useEffect(()=>{t.clearReset()},[t])},vr=({result:t,errorResetBoundary:e,useErrorBoundary:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&vt(r,[t.error,n]),Er=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},br=(t,e)=>t.isLoading&&t.isFetching&&!e,gr=(t,e,r)=>(t==null?void 0:t.suspense)&&br(e,r),yr=(t,e,r)=>e.fetchOptimistic(t).then(({data:n})=>{t.onSuccess==null||t.onSuccess(n),t.onSettled==null||t.onSettled(n,null)}).catch(n=>{r.clearReset(),t.onError==null||t.onError(n),t.onSettled==null||t.onSettled(void 0,n)});function xr(t,e){const r=ht({context:t.context}),n=dr(),i=pr(),s=r.defaultQueryOptions(t);s._optimisticResults=n?"isRestoring":"optimistic",s.onError&&(s.onError=G.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=G.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=G.batchCalls(s.onSettled)),Er(s),_r(s,i),mr(i);const[o]=d.useState(()=>new e(r,s)),a=o.getOptimisticResult(s);if(_t(d.useCallback(u=>{const l=n?()=>{}:o.subscribe(G.batchCalls(u));return o.updateResult(),l},[o,n]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),d.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),gr(s,a,n))throw yr(s,o,i);if(vr({result:a,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw a.error;return s.notifyOnChangeProps?a:o.trackResult(a)}function Rr(t,e,r){const n=Ht(t,e,r);return xr(n,Jt)}function Or(t,e,r){const n=Yt(t,e,r),i=ht({context:n.context}),[s]=d.useState(()=>new er(i,n));d.useEffect(()=>{s.setOptions(n)},[s,n]);const o=_t(d.useCallback(u=>s.subscribe(G.batchCalls(u)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=d.useCallback((u,l)=>{s.mutate(u,l).catch(Tr)},[s]);if(o.error&&vt(s.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}function Tr(){}function ue(...t){return t.map(e=>{if(Array.isArray(e))return e.map(String).filter(Boolean).join(" ").trim();if(typeof e=="object"){let r="";for(let[n,i]of Object.entries(e))i&&(r+=n+" ");return r.trim()}return e}).filter(Boolean).join(" ").trim()||""}const Cr="_link_default_18zt1_1",Sr="_link_accent_18zt1_39",Nr="_link_underline_18zt1_109",ut={link_default:Cr,"link_block-hover":"_link_block-hover_18zt1_21",link_accent:Sr,"link_size-default":"_link_size-default_18zt1_67 _button_size-default_17305_61","link_size-long":"_link_size-long_18zt1_75 _button_size-long_17305_69","link_size-xlong":"_link_size-xlong_18zt1_83 _button_size-xlong_17305_77","link_size-xxlong":"_link_size-xxlong_18zt1_89 _button_size-xxlong_17305_83",link_underline:Nr},j=d.memo(({children:t,theme:e="default",size:r,className:n,...i})=>{const s=d.useCallback(o=>{let a=n;return typeof n=="function"&&(a=n(o)),ue(ut[`link_size-${r}`],ut[`link_${e}`],a)},[e,n]);return c.jsx(Vt,{className:s,...i,children:t})});j.displayName="memo(Link)";const kr="_button_base_17305_1",wr="_button_default_17305_25",jr="_button_accent_17305_37",Pr="_button_stretch_17305_91",fe={button_base:kr,button_default:wr,button_accent:jr,"button_size-default":"_button_size-default_17305_61","button_size-long":"_button_size-long_17305_69","button_size-xlong":"_button_size-xlong_17305_77","button_size-xxlong":"_button_size-xxlong_17305_83",button_stretch:Pr},Ir=d.memo(d.forwardRef(({children:t,className:e,stretch:r,theme:n="default",size:i="default",...s},o)=>c.jsx("button",{...s,ref:o,className:ue(e,fe.button_base,fe[`button_${n}`],fe[`button_size-${i}`],{[fe.button_stretch]:r}),children:t})));Ir.displayName="memo(Button)";const Ur="_nav_xardr_1",Ar="_nav__list_xardr_19",Lr="_nav__link_xardr_37",Mr="_nav__item_xardr_47",Dr="_nav__link_active_xardr_99",Fr="_nav__hover_xardr_109",Qr="_nav__sign_xardr_131",L={nav:Ur,nav__list:Ar,nav__link:Lr,nav__item:Mr,nav__link_active:Dr,nav__hover:Fr,nav__sign:Qr},zr=[{path:p.DEFAULT_ROUTE,title:"Главная"},{path:p.TASKS_ROUTE,title:"Задачи"},{path:p.CONSTRUCTORS_ROUTE,title:"Конструкторы"},{path:p.RESULTS_ROUTE,title:"Результаты"},{path:p.EXAMPLES_ROUTE,title:"Примеры"},{path:p.ABOUT_ROUTE,title:"О нас"}],Gr="_badge_1nnjx_1",$r={badge:Gr},ve=d.memo(d.forwardRef(({children:t,src:e,to:r,height:n=30,width:i=30,className:s,...o},a)=>{const u=c.jsxs("figure",{className:ue($r.badge,s),ref:a,tabIndex:0,...o,children:[c.jsx("figcaption",{children:t}),c.jsx("img",{src:e,width:i,height:n})]});return r?c.jsx(j,{to:r,children:u}):u}));ve.displayName="memo(Badge)";const Xr="http://localhost:3001",ae=me([]),Hr=me(t=>t(ae)),Yr=me(null,(t,e,r)=>e(ae,[...t(ae),r])),Vr=me(null,(t,e,r)=>e(ae,t(ae).filter(n=>n.id!==r)));function qr(){const[,t]=we(Yr);return d.useMemo(()=>({push(e){t({...e,id:crypto.randomUUID(),nodeRef:d.createRef()})}}),[])}async function Br(t){return t.ok?t.json():Promise.reject(await t.json())}async function Wr(t,e){let r={};return((e==null?void 0:e.method)==="POST"||e!=null&&e.body)&&(r={"Content-Type":"application/json"}),fetch(t,{method:e!=null&&e.body?"POST":"GET",credentials:"include",redirect:"follow",...e,body:(e==null?void 0:e.body)&&JSON.stringify(e==null?void 0:e.body),headers:{...(e==null?void 0:e.headers)||{},...r}}).then(Br)}const ps=function(t,e="Запрос выполнен успешно!"){const r=qr();return Or({...t,onError(n){var i;if(n&&typeof n=="object"&&"message"in n&&typeof n.message=="string"){r.push({title:n.message,theme:"error"});return}if(n&&typeof n=="string"){r.push({title:n,theme:"error"});return}(i=t==null?void 0:t.onError)==null||i.call(t)},onSuccess(){var n;e&&r.push({title:e,theme:"success"}),(n=t==null?void 0:t.onSuccess)==null||n.call(t)}})},Kr={SIGN_UP:"sign-up",SIGN_IN:"sign-in",ME:"me"},Jr=`${Xr}/ME_QUERY`;async function Zr(){return Wr(Jr)}const Pe=()=>Rr({queryKey:[Kr.ME],queryFn:()=>Zr(),keepPreviousData:!0,refetchOnReconnect:!0,staleTime:1/0});function oe(){return oe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oe.apply(this,arguments)}var en=function(e,r){r===void 0&&(r=!0),d.useEffect(function(){if(r){var n=function(s){s.key==="Escape"&&e(s)};return document.addEventListener("keyup",n),function(){r&&document.removeEventListener("keyup",n)}}},[e,r])},tn=function(e,r){r===void 0&&(r=!0),d.useEffect(function(){if(r){var n=function(){e()};return window.addEventListener("resize",n),function(){r&&window.removeEventListener("resize",n)}}},[e,r])},rn=function(e,r,n){n===void 0&&(n=!0),d.useEffect(function(){if(n){var i=function(o){var a=Array.isArray(e)?e:[e],u=!1;a.forEach(function(l){if(!l.current||l.current.contains(o.target)){u=!0;return}}),o.stopPropagation(),u||r(o)};return document.addEventListener("mousedown",i),document.addEventListener("touchstart",i),function(){n&&(document.removeEventListener("mousedown",i),document.removeEventListener("touchstart",i))}}},[e,r,n])},nn=function(e,r){r===void 0&&(r=!0),d.useEffect(function(){if(r){var n=function(s){if(s.keyCode===9){var o,a=e==null||(o=e.current)===null||o===void 0?void 0:o.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),u=Array.prototype.slice.call(a);if(u.length===1){s.preventDefault();return}var l=u[0],f=u[u.length-1];s.shiftKey&&document.activeElement===l?(s.preventDefault(),f.focus()):document.activeElement===f&&(s.preventDefault(),l.focus())}};return document.addEventListener("keydown",n),function(){r&&document.removeEventListener("keydown",n)}}},[e,r])},sn=typeof window<"u"?d.useLayoutEffect:d.useEffect,se={popupContent:{tooltip:{position:"absolute",zIndex:999},modal:{position:"relative",margin:"auto"}},popupArrow:{height:"8px",width:"16px",position:"absolute",background:"transparent",color:"#FFF",zIndex:-1},overlay:{tooltip:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:999},modal:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",zIndex:999}}},on=["top left","top center","top right","right top","right center","right bottom","bottom left","bottom center","bottom right","left top","left center","left bottom"],an=function(e,r,n,i,s){var o=s.offsetX,a=s.offsetY,u=i?8:0,l=n.split(" "),f=e.top+e.height/2,h=e.left+e.width/2,m=r.height,v=r.width,O=f-m/2,g=h-v/2,b="",C="0%",w="0%";switch(l[0]){case"top":O-=m/2+e.height/2+u,b="rotate(180deg)  translateX(50%)",C="100%",w="50%";break;case"bottom":O+=m/2+e.height/2+u,b="rotate(0deg) translateY(-100%) translateX(-50%)",w="50%";break;case"left":g-=v/2+e.width/2+u,b=" rotate(90deg)  translateY(50%) translateX(-25%)",w="100%",C="50%";break;case"right":g+=v/2+e.width/2+u,b="rotate(-90deg)  translateY(-150%) translateX(25%)",C="50%";break}switch(l[1]){case"top":O=e.top,C=e.height/2+"px";break;case"bottom":O=e.top-m+e.height,C=m-e.height/2+"px";break;case"left":g=e.left,w=e.width/2+"px";break;case"right":g=e.left-v+e.width,w=v-e.width/2+"px";break}return O=l[0]==="top"?O-a:O+a,g=l[0]==="left"?g-o:g+o,{top:O,left:g,transform:b,arrowLeft:w,arrowTop:C}},un=function(e){var r={top:0,left:0,width:window.innerWidth,height:window.innerHeight};if(typeof e=="string"){var n=document.querySelector(e);n!==null&&(r=n.getBoundingClientRect())}return r},ln=function(e,r,n,i,s,o){var a=s.offsetX,u=s.offsetY,l={arrowLeft:"0%",arrowTop:"0%",left:0,top:0,transform:"rotate(135deg)"},f=0,h=un(o),m=Array.isArray(n)?n:[n];for((o||Array.isArray(n))&&(m=[].concat(m,on));f<m.length;){l=an(e,r,m[f],i,{offsetX:a,offsetY:u});var v={top:l.top,left:l.left,width:r.width,height:r.height};if(v.top<=h.top||v.left<=h.left||v.top+v.height>=h.top+h.height||v.left+v.width>=h.left+h.width)f++;else break}return l},cn=0,dn=function(){var e=document.getElementById("popup-root");return e===null&&(e=document.createElement("div"),e.setAttribute("id","popup-root"),document.body.appendChild(e)),e},fn=d.forwardRef(function(t,e){var r=t.trigger,n=r===void 0?null:r,i=t.onOpen,s=i===void 0?function(){}:i,o=t.onClose,a=o===void 0?function(){}:o,u=t.defaultOpen,l=u===void 0?!1:u,f=t.open,h=f===void 0?void 0:f,m=t.disabled,v=m===void 0?!1:m,O=t.nested,g=O===void 0?!1:O,b=t.closeOnDocumentClick,C=b===void 0?!0:b,w=t.repositionOnResize,S=w===void 0?!0:w,X=t.closeOnEscape,ee=X===void 0?!0:X,H=t.on,Y=H===void 0?["click"]:H,R=t.contentStyle,te=R===void 0?{}:R,le=t.arrowStyle,Ee=le===void 0?{}:le,De=t.overlayStyle,Rt=De===void 0?{}:De,Fe=t.className,V=Fe===void 0?"":Fe,Qe=t.position,Ot=Qe===void 0?"bottom center":Qe,ze=t.modal,Ge=ze===void 0?!1:ze,$e=t.lockScroll,Xe=$e===void 0?!1:$e,He=t.arrow,be=He===void 0?!0:He,Ye=t.offsetX,Tt=Ye===void 0?0:Ye,Ve=t.offsetY,Ct=Ve===void 0?0:Ve,qe=t.mouseEnterDelay,St=qe===void 0?100:qe,Be=t.mouseLeaveDelay,Nt=Be===void 0?100:Be,We=t.keepTooltipInside,kt=We===void 0?!1:We,ce=t.children,Ke=d.useState(h||l),P=Ke[0],Je=Ke[1],I=d.useRef(null),N=d.useRef(null),D=d.useRef(null),Ze=d.useRef(null),et=d.useRef("popup-"+ ++cn),k=Ge?!0:!n,re=d.useRef(0);sn(function(){return P?(Ze.current=document.activeElement,tt(),It(),jt()):Pt(),function(){clearTimeout(re.current)}},[P]),d.useEffect(function(){typeof h=="boolean"&&(h?de():A())},[h,v]);var de=function(_){P||v||(Je(!0),setTimeout(function(){return s(_)},0))},A=function(_){var T;!P||v||(Je(!1),k&&((T=Ze.current)===null||T===void 0||T.focus()),setTimeout(function(){return a(_)},0))},ge=function(_){_==null||_.stopPropagation(),P?A(_):de(_)},ye=function(_){clearTimeout(re.current),re.current=setTimeout(function(){return de(_)},St)},wt=function(_){_==null||_.preventDefault(),ge()},xe=function(_){clearTimeout(re.current),re.current=setTimeout(function(){return A(_)},Nt)},jt=function(){k&&Xe&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},Pt=function(){k&&Xe&&(document.getElementsByTagName("body")[0].style.overflow="auto")},It=function(){var _,T=N==null||(_=N.current)===null||_===void 0?void 0:_.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),y=Array.prototype.slice.call(T)[0];y==null||y.focus()};d.useImperativeHandle(e,function(){return{open:function(){de()},close:function(){A()},toggle:function(){ge()}}});var tt=function(){if(!(k||!P)&&!(!(I!=null&&I.current)||!(I!=null&&I.current)||!(N!=null&&N.current))){var _=I.current.getBoundingClientRect(),T=N.current.getBoundingClientRect(),y=ln(_,T,Ot,be,{offsetX:Tt,offsetY:Ct},kt);if(N.current.style.top=y.top+window.scrollY+"px",N.current.style.left=y.left+window.scrollX+"px",be&&D.current){var F,ne;D.current.style.transform=y.transform,D.current.style.setProperty("-ms-transform",y.transform),D.current.style.setProperty("-webkit-transform",y.transform),D.current.style.top=((F=Ee.top)===null||F===void 0?void 0:F.toString())||y.arrowTop,D.current.style.left=((ne=Ee.left)===null||ne===void 0?void 0:ne.toString())||y.arrowLeft}}};en(A,ee),nn(N,P&&k),tn(tt,S),rn(n?[N,I]:[N],A,C&&!g);var Ut=function(){for(var _={key:"T",ref:I,"aria-describedby":et.current},T=Array.isArray(Y)?Y:[Y],y=0,F=T.length;y<F;y++)switch(T[y]){case"click":_.onClick=ge;break;case"right-click":_.onContextMenu=wt;break;case"hover":_.onMouseEnter=ye,_.onMouseLeave=xe;break;case"focus":_.onFocus=ye,_.onBlur=xe;break}if(typeof n=="function"){var ne=n(P);return!!n&&E.cloneElement(ne,_)}return!!n&&E.cloneElement(n,_)},At=function(){var _=k?se.popupContent.modal:se.popupContent.tooltip,T={className:"popup-content "+(V!==""?V.split(" ").map(function(y){return y+"-content"}).join(" "):""),style:oe({},_,te,{pointerEvents:"auto"}),ref:N,onClick:function(F){F.stopPropagation()}};return!Ge&&Y.indexOf("hover")>=0&&(T.onMouseEnter=ye,T.onMouseLeave=xe),T},rt=function(){return E.createElement("div",Object.assign({},At(),{key:"C",role:k?"dialog":"tooltip",id:et.current}),be&&!k&&E.createElement("div",{ref:D,style:se.popupArrow},E.createElement("svg",{"data-testid":"arrow",className:"popup-arrow "+(V!==""?V.split(" ").map(function(_){return _+"-arrow"}).join(" "):""),viewBox:"0 0 32 16",style:oe({position:"absolute"},Ee)},E.createElement("path",{d:"M16 0l16 16H0z",fill:"currentcolor"}))),ce&&typeof ce=="function"?ce(A,P):ce)},Lt=!(Y.indexOf("hover")>=0),Mt=k?se.overlay.modal:se.overlay.tooltip,Dt=[Lt&&E.createElement("div",{key:"O","data-testid":"overlay","data-popup":k?"modal":"tooltip",className:"popup-overlay "+(V!==""?V.split(" ").map(function(x){return x+"-overlay"}).join(" "):""),style:oe({},Mt,Rt,{pointerEvents:C&&g||k?"auto":"none"}),onClick:C&&g?A:void 0,tabIndex:-1},k&&rt()),!k&&rt()];return E.createElement(E.Fragment,null,Ut(),P&&J.createPortal(Dt,dn()))});const hn=({closeOnScroll:t=!1,...e})=>{const r=d.useRef(null);return d.useEffect(()=>{if(!t)return;function n(){var i;(i=r.current)==null||i.close()}return document.addEventListener("scroll",n),()=>document.removeEventListener("scroll",n)},[]),c.jsx(fn,{...e,ref:r})},pn="_popup_1occ1_1",_n="_popup__badge_1occ1_11",mn="_popup__list_1occ1_25",vn="_popup__item_1occ1_41",q={popup:pn,popup__badge:_n,popup__list:mn,popup__item:vn},En=[{path:p.PROFILE_ROUTE,title:"Профиль"},{path:p.SETTINGS_ROUTE,title:"Настройки"},{path:p.PROFILE_CONSTRUCTORS_ROUTE,title:"Конструкторы"},{path:p.PROFILE_TASKS_ROUTE,title:"Задачи"}],bn="_hr_1fddy_1",gn={hr:bn},yn=()=>c.jsx("hr",{className:gn.hr}),xn=()=>{const{data:t}=Pe();if(!t)return null;const{avatarUrl:e,email:r}=t;return c.jsxs("section",{className:q.popup,children:[c.jsx(ve,{to:p.PROFILE_ROUTE,src:e||"/default-avatar.svg",className:q.popup__badge,width:25,height:25,children:r}),c.jsx("ul",{className:q.popup__list,children:En.map(n=>c.jsx("li",{className:q.popup__item,children:c.jsx(j,{to:n.path,theme:"block-hover",children:n.title})}))}),c.jsx(yn,{}),c.jsxs("ul",{className:q.popup__list,children:[c.jsx("li",{className:q.popup__item,children:c.jsx(j,{to:p.HELP_ROUTE,theme:"block-hover",children:"Поддрежка"})}),c.jsx("li",{})]})]})},Et=d.memo(()=>{const[t,e]=d.useState(),{isError:r,isLoading:n,data:i}=Pe(),s=r||n;function o(l){const f=l.target;if(!(f instanceof HTMLElement))return;const h=f.closest("li").childNodes[0];e({transform:`translateY(-50%) translateX(${h.offsetLeft-5}px)`,width:h.clientWidth+10+"px"})}function a(){e(l=>({...l,opacity:0}))}const u=c.jsx(ve,{src:(i==null?void 0:i.avatarUrl)||"/default-avatar.svg",width:25,height:25});return console.log(L.nav),c.jsxs("nav",{className:L.nav,children:[c.jsxs("ul",{className:L.nav__list,children:[c.jsx("div",{className:L.nav__hover,style:t}),zr.map(l=>c.jsx("li",{className:L.nav__item,onMouseEnter:o,onMouseLeave:a,children:c.jsx(j,{className:({isActive:f})=>ue(L.nav__link,{[L.nav__link_active]:f}),to:l.path,children:l.title})},l.path))]}),c.jsx("div",{className:L.nav__sign,children:s?c.jsxs(c.Fragment,{children:[c.jsx(j,{to:p.SIGN_IN_ROUTE,children:"Войти"}),c.jsx(j,{to:p.SIGN_UP_ROUTE,theme:"accent",children:"Регистрация"})]}):c.jsx(hn,{trigger:u,closeOnScroll:!0,keepTooltipInside:!0,position:"bottom left",children:c.jsx(xn,{})})})]})});Et.displayName="memo(Nav)";const Rn="_breadcrumbs_e4vsb_1",On="_breadcrumbs__wrapper_e4vsb_13",Tn="_breadcrumbs__item_e4vsb_27",Cn="_breadcrumbs__title_e4vsb_47",Sn="_breadcrumbs__img_e4vsb_55",Nn="_breadcrumbs__separator_e4vsb_63",B={breadcrumbs:Rn,breadcrumbs__wrapper:On,breadcrumbs__item:Tn,breadcrumbs__title:Cn,breadcrumbs__img:Sn,breadcrumbs__separator:Nn},kn=30,wn=30;function jn(){const t=qt();return d.useMemo(()=>{const e=t.pathname.replaceAll("/"," ").trim().split(" ");e[0]&&e.unshift("");const r=e.reduce((n,i)=>{var s;return n.push({...Bt[`/${i}`],path:(((s=n[n.length-1])==null?void 0:s.path)||"")+i+"/"}),n},[]);return r.length>1&&(r[0].title=""),r},[t.pathname])}const bt=d.memo(({withHelp:t})=>{const e=jn();return c.jsxs("div",{className:B.breadcrumbs__wrapper,children:[c.jsx("div",{className:B.breadcrumbs,children:e.map(r=>c.jsxs(E.Fragment,{children:[c.jsxs(Wt,{className:B.breadcrumbs__item,to:r.path,children:[c.jsx("img",{className:B.breadcrumbs__img,src:r.icon,alt:r.title||"Иконка страницы",width:wn,height:kn}),r.title&&c.jsx("p",{className:B.breadcrumbs__title,children:r.title})]}),c.jsx("span",{className:B.breadcrumbs__separator,children:"/"})]},r.path))}),t&&c.jsx(ve,{src:"/help.svg",to:"/help",children:"Помощь"})]})});bt.displayName="memo(Breadcrumbs)";const Pn="_header__breadcrumbs_1ns2m_1",In="_header__nav_1ns2m_3",lt={header__breadcrumbs:Pn,header__nav:In},gt=d.memo(({withNav:t,withHelp:e})=>c.jsxs(c.Fragment,{children:[c.jsx("div",{className:lt.header__breadcrumbs,children:c.jsx(bt,{withHelp:e})}),t&&c.jsx("div",{className:lt.header__nav,children:c.jsx(Et,{})})]}));gt.displayName="memo(Header)";const Un=[[[p.PAGE_404_ROUTE,"Документация"],[p.PAGE_404_ROUTE,"Правила"],[p.PAGE_404_ROUTE,"Помощь"],[p.PAGE_404_ROUTE,"Для посетителей"],[p.PAGE_404_ROUTE,"Команда сопровождения"],[p.PAGE_404_ROUTE,"Организаторам"]],[[p.PAGE_404_ROUTE,"Домашняя страница"],[p.PAGE_404_ROUTE,"О нас"],[p.PAGE_404_ROUTE,"Задачи прошлых лет"],[p.PAGE_404_ROUTE,"Вход"],[p.PAGE_404_ROUTE,"Регистрация"],[p.PAGE_404_ROUTE,"Результаты"],[p.PAGE_404_ROUTE,"Связаться с нами"],[p.PAGE_404_ROUTE,"Коммерческие предложения"]],[[p.PAGE_404_ROUTE,"Политика конфиденциальности"],[p.PAGE_404_ROUTE,"Условия использования"],[p.PAGE_404_ROUTE,"Политика в отношении товарных знаков"],[p.PAGE_404_ROUTE,"Соглашение об уровне обслуживания"],[p.PAGE_404_ROUTE,"Настройки файлов cookie"],[p.PAGE_404_ROUTE,"Условия конкурса"],[p.PAGE_404_ROUTE,"Другие нормативно-правовые документы"]]],An=["Ресурсы","Навигация","Документы"],Ln="_footer_1kcdw_1",Mn="_footer__grid_1kcdw_13",Dn="_footer__list_1kcdw_27",Fn="_footer__item_1kcdw_47",Qn="_footer__image_1kcdw_55",zn="_footer__copyright_1kcdw_71",Gn="_footer__created_1kcdw_81",M={footer:Ln,footer__grid:Mn,footer__list:Dn,footer__item:Fn,footer__image:Qn,footer__copyright:zn,footer__created:Gn},yt=d.memo(()=>c.jsxs("footer",{className:M.footer,children:[c.jsxs("div",{className:M.footer__grid,children:[c.jsx(j,{to:p.DEFAULT_ROUTE,children:c.jsxs("figure",{className:M.footer__image,children:[c.jsx("img",{src:"/home-icon.svg",alt:"",width:35,height:35}),c.jsx("figcaption",{children:"КИО"})]})}),Un.map((t,e)=>c.jsxs("ul",{className:M.footer__list,children:[c.jsx("li",{className:M.footer__item,children:An[e]}),t.map(([r,n],i)=>c.jsx("li",{className:M.footer__item,children:c.jsx(j,{to:r,theme:"underline",children:n})},i))]},e))]}),c.jsxs("div",{className:M.footer__copyright,children:[c.jsx("p",{children:"CopyRight © 2013-2023 Центр информатизации образования «КИО». Все права защищены."}),c.jsxs("div",{className:M.footer__created,children:[c.jsx("p",{children:"Создатели: "}),c.jsx(j,{to:"https://github.com/kyzinatra",theme:"underline",children:"kyzinatra"}),c.jsx(j,{to:"https://github.com/yandrinsky",theme:"underline",children:"yandrinsky"})]})]})]}));yt.displayName="memo(Footer)";const $n="_toasts_1ou2h_1",Xn={toasts:$n};function pe(){return pe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pe.apply(this,arguments)}function Ie(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Ne(t,e){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ne(t,e)}function Ue(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ne(t,e)}function Hn(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Yn(t,e){t.classList?t.classList.add(e):Hn(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function ct(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Vn(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=ct(t.className,e):t.setAttribute("class",ct(t.className&&t.className.baseVal||"",e))}const dt={disabled:!1},_e=E.createContext(null);var xt=function(e){return e.scrollTop},ie="unmounted",Q="exited",z="entering",K="entered",ke="exiting",U=function(t){Ue(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var o=i,a=o&&!o.isMounting?n.enter:n.appear,u;return s.appearStatus=null,n.in?a?(u=Q,s.appearStatus=z):u=K:n.unmountOnExit||n.mountOnEnter?u=ie:u=Q,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===ie?{status:Q}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==z&&o!==K&&(s=z):(o===z||o===K)&&(s=ke)}this.updateStatus(!1,s)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},r.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===z){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:J.findDOMNode(this);o&&xt(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Q&&this.setState({status:ie})},r.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[J.findDOMNode(this),a],l=u[0],f=u[1],h=this.getTimeouts(),m=a?h.appear:h.enter;if(!i&&!o||dt.disabled){this.safeSetState({status:K},function(){s.props.onEntered(l)});return}this.props.onEnter(l,f),this.safeSetState({status:z},function(){s.props.onEntering(l,f),s.onTransitionEnd(m,function(){s.safeSetState({status:K},function(){s.props.onEntered(l,f)})})})},r.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:J.findDOMNode(this);if(!s||dt.disabled){this.safeSetState({status:Q},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ke},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Q},function(){i.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},r.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:J.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],l=u[0],f=u[1];this.props.addEndListener(l,f)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===ie)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Ie(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return E.createElement(_e.Provider,{value:null},typeof o=="function"?o(i,a):E.cloneElement(E.Children.only(o),a))},e}(E.Component);U.contextType=_e;U.propTypes={};function W(){}U.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:W,onEntering:W,onEntered:W,onExit:W,onExiting:W,onExited:W};U.UNMOUNTED=ie;U.EXITED=Q;U.ENTERING=z;U.ENTERED=K;U.EXITING=ke;const qn=U;var Bn=function(e,r){return e&&r&&r.split(" ").forEach(function(n){return Yn(e,n)})},Oe=function(e,r){return e&&r&&r.split(" ").forEach(function(n){return Vn(e,n)})},Ae=function(t){Ue(e,t);function e(){for(var n,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n=t.call.apply(t,[this].concat(s))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(a,u){var l=n.resolveArguments(a,u),f=l[0],h=l[1];n.removeClasses(f,"exit"),n.addClass(f,h?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(a,u)},n.onEntering=function(a,u){var l=n.resolveArguments(a,u),f=l[0],h=l[1],m=h?"appear":"enter";n.addClass(f,m,"active"),n.props.onEntering&&n.props.onEntering(a,u)},n.onEntered=function(a,u){var l=n.resolveArguments(a,u),f=l[0],h=l[1],m=h?"appear":"enter";n.removeClasses(f,m),n.addClass(f,m,"done"),n.props.onEntered&&n.props.onEntered(a,u)},n.onExit=function(a){var u=n.resolveArguments(a),l=u[0];n.removeClasses(l,"appear"),n.removeClasses(l,"enter"),n.addClass(l,"exit","base"),n.props.onExit&&n.props.onExit(a)},n.onExiting=function(a){var u=n.resolveArguments(a),l=u[0];n.addClass(l,"exit","active"),n.props.onExiting&&n.props.onExiting(a)},n.onExited=function(a){var u=n.resolveArguments(a),l=u[0];n.removeClasses(l,"exit"),n.addClass(l,"exit","done"),n.props.onExited&&n.props.onExited(a)},n.resolveArguments=function(a,u){return n.props.nodeRef?[n.props.nodeRef.current,a]:[a,u]},n.getClassNames=function(a){var u=n.props.classNames,l=typeof u=="string",f=l&&u?u+"-":"",h=l?""+f+a:u[a],m=l?h+"-active":u[a+"Active"],v=l?h+"-done":u[a+"Done"];return{baseClassName:h,activeClassName:m,doneClassName:v}},n}var r=e.prototype;return r.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],u=this.getClassNames("enter"),l=u.doneClassName;s==="appear"&&o==="done"&&l&&(a+=" "+l),o==="active"&&i&&xt(i),a&&(this.appliedClasses[s][o]=a,Bn(i,a))},r.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,u=o.active,l=o.done;this.appliedClasses[s]={},a&&Oe(i,a),u&&Oe(i,u),l&&Oe(i,l)},r.render=function(){var i=this.props;i.classNames;var s=Ie(i,["classNames"]);return E.createElement(qn,pe({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(E.Component);Ae.defaultProps={classNames:""};Ae.propTypes={};const Wn=Ae;function Kn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Le(t,e){var r=function(s){return e&&d.isValidElement(s)?e(s):s},n=Object.create(null);return t&&d.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function Jn(t,e){t=t||{},e=e||{};function r(f){return f in e?e[f]:t[f]}var n=Object.create(null),i=[];for(var s in t)s in e?i.length&&(n[s]=i,i=[]):i.push(s);var o,a={};for(var u in e){if(n[u])for(o=0;o<n[u].length;o++){var l=n[u][o];a[n[u][o]]=r(l)}a[u]=r(u)}for(o=0;o<i.length;o++)a[i[o]]=r(i[o]);return a}function $(t,e,r){return r[e]!=null?r[e]:t.props[e]}function Zn(t,e){return Le(t.children,function(r){return d.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:$(r,"appear",t),enter:$(r,"enter",t),exit:$(r,"exit",t)})})}function es(t,e,r){var n=Le(t.children),i=Jn(e,n);return Object.keys(i).forEach(function(s){var o=i[s];if(d.isValidElement(o)){var a=s in e,u=s in n,l=e[s],f=d.isValidElement(l)&&!l.props.in;u&&(!a||f)?i[s]=d.cloneElement(o,{onExited:r.bind(null,o),in:!0,exit:$(o,"exit",t),enter:$(o,"enter",t)}):!u&&a&&!f?i[s]=d.cloneElement(o,{in:!1}):u&&a&&d.isValidElement(l)&&(i[s]=d.cloneElement(o,{onExited:r.bind(null,o),in:l.props.in,exit:$(o,"exit",t),enter:$(o,"enter",t)}))}}),i}var ts=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},rs={component:"div",childFactory:function(e){return e}},Me=function(t){Ue(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var o=s.handleExited.bind(Kn(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,u=s.firstRender;return{children:u?Zn(i,a):es(i,o,a),firstRender:!1}},r.handleExited=function(i,s){var o=Le(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var u=pe({},a.children);return delete u[i.key],{children:u}}))},r.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Ie(i,["component","childFactory"]),u=this.state.contextValue,l=ts(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?E.createElement(_e.Provider,{value:u},l):E.createElement(_e.Provider,{value:u},E.createElement(s,a,l))},e}(E.Component);Me.propTypes={};Me.defaultProps=rs;const ns=Me,ss="_toasts__item_hgy0w_1",is="_toast__item_error_hgy0w_51",os="_toast__item_info_hgy0w_59",as="_toast__item_warning_hgy0w_67",us="_toast__item_success_hgy0w_75",he={"toasts__item-times":"_toasts__item-times_hgy0w_1","toasts__item-text":"_toasts__item-text_hgy0w_21",toasts__item:ss,toast__item_error:is,toast__item_info:os,toast__item_warning:as,toast__item_success:us},ls=d.forwardRef(({id:t,title:e,theme:r="info",timeout:n=5e3},i)=>{const[,s]=we(Vr),o=d.useRef(null);d.useEffect(()=>(o.current=setTimeout(a,+(n||0)),()=>{o.current&&clearTimeout(o.current)}),[]);function a(){o.current&&clearTimeout(o.current),s(t)}return c.jsxs("div",{ref:i,className:ue(he.toasts__item,he["toast__item_"+r]),children:[c.jsx("span",{className:he["toasts__item-text"],children:e}),c.jsx("span",{className:he["toasts__item-times"],onClick:a,children:"×"})]})}),cs=200;function ds(t="div"){const[e,r]=d.useState(null);return d.useEffect(()=>{const n=document.createElement(t);return r(n),document.body.appendChild(n),()=>{n.remove(),r(null)}},[]),e}const fs=()=>{const[t]=we(Hr),e=ds("aside");return e?J.createPortal(c.jsx(ns,{className:Xn.toasts,children:t.map(({id:r,nodeRef:n,...i})=>c.jsx(Wn,{timeout:cs,in:!0,nodeRef:n,classNames:"toasts__item",children:c.jsx(ls,{id:r,ref:n,...i})},r))}),e):null},_s=({withNav:t,withHelp:e,withFooter:r,children:n,protectedFrom:i})=>{const{isLoading:s,error:o,data:a}=Pe();return s&&!o&&!a?c.jsx("h1",{children:"Loading..."}):(o==null?void 0:o.name)==="UNAUTHORIZED"&&i==="anonymous"||a&&i==="authorized"?c.jsx(Kt,{to:p.DEFAULT_ROUTE}):c.jsxs(c.Fragment,{children:[c.jsx(gt,{withNav:t,withHelp:e}),n,r&&c.jsx(yt,{}),c.jsx(fs,{})]})};export{Ir as B,Wn as C,K as E,j as L,Kr as Q,_e as T,Ue as _,_s as a,Xr as b,ue as c,z as d,ke as e,qr as f,cs as g,pe as h,Ie as i,Wr as m,ps as u};
