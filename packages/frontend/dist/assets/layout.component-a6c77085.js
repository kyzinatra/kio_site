import{S as vt,s as Ee,n as Wt,i as at,b as ut,t as Kt,f as Jt,d as Zt,e as ct,g as er,h as z,k as tr,r as f,u as Et,p as rr,l as nr,j as l,c as Y,R as p,L as j,m as ee,o as xe,a as v,q as H,v as sr,w as lt,x as or,N as ir}from"./index-4fc40948.js";class ar extends vt{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),dt(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return je(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return je(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const r=this.options,o=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Ee(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const s=this.hasListeners();s&&ft(this.currentQuery,o,this.options,r)&&this.executeFetch(),this.updateResult(n),s&&(this.currentQuery!==o||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const i=this.computeRefetchInterval();s&&(this.currentQuery!==o||this.options.enabled!==r.enabled||i!==this.currentRefetchInterval)&&this.updateRefetchInterval(i)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e),r=this.createResult(n,e);return cr(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Wt)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),at||this.currentResult.isStale||!ut(this.options.staleTime))return;const n=Kt(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(at||this.options.enabled===!1||!ut(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Jt.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const r=this.currentQuery,o=this.options,s=this.currentResult,i=this.currentResultState,a=this.currentResultOptions,u=e!==r,c=u?e.state:this.currentQueryInitialState,d=u?this.currentResult:this.previousQueryResult,{state:h}=e;let{dataUpdatedAt:m,error:E,errorUpdatedAt:O,fetchStatus:g,status:b}=h,S=!1,k=!1,C;if(n._optimisticResults){const R=this.hasListeners(),ne=!R&&dt(e,n),fe=R&&ft(e,r,n,o);(ne||fe)&&(g=Zt(e.options.networkMode)?"fetching":"paused",m||(b="loading")),n._optimisticResults==="isRestoring"&&(g="idle")}if(n.keepPreviousData&&!h.dataUpdatedAt&&d!=null&&d.isSuccess&&b!=="error")C=d.data,m=d.dataUpdatedAt,b=d.status,S=!0;else if(n.select&&typeof h.data<"u")if(s&&h.data===(i==null?void 0:i.data)&&n.select===this.selectFn)C=this.selectResult;else try{this.selectFn=n.select,C=n.select(h.data),C=ct(s==null?void 0:s.data,C,n),this.selectResult=C,this.selectError=null}catch(R){this.selectError=R}else C=h.data;if(typeof n.placeholderData<"u"&&typeof C>"u"&&b==="loading"){let R;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))R=s.data;else if(R=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof R<"u")try{R=n.select(R),this.selectError=null}catch(ne){this.selectError=ne}typeof R<"u"&&(b="success",C=ct(s==null?void 0:s.data,R,n),k=!0)}this.selectError&&(E=this.selectError,C=this.selectResult,O=Date.now(),b="error");const V=g==="fetching",re=b==="loading",q=b==="error";return{status:b,fetchStatus:g,isLoading:re,isSuccess:b==="success",isError:q,isInitialLoading:re&&V,data:C,dataUpdatedAt:m,error:E,errorUpdatedAt:O,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:V,isRefetching:V&&!re,isLoadingError:q&&h.dataUpdatedAt===0,isPaused:g==="paused",isPlaceholderData:k,isPreviousData:S,isRefetchError:q&&h.dataUpdatedAt!==0,isStale:Ue(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Ee(r,n))return;this.currentResult=r;const o={cache:!0},s=()=>{if(!n)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!this.trackedProps.size)return!0;const u=new Set(a??this.trackedProps);return this.options.useErrorBoundary&&u.add("error"),Object.keys(this.currentResult).some(c=>{const d=c;return this.currentResult[d]!==n[d]&&u.has(d)})};(e==null?void 0:e.listeners)!==!1&&s()&&(o.listeners=!0),this.notify({...o,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!er(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){z.batch(()=>{if(e.onSuccess){var n,r,o,s;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(o=(s=this.options).onSettled)==null||o.call(s,this.currentResult.data,null)}else if(e.onError){var i,a,u,c;(i=(a=this.options).onError)==null||i.call(a,this.currentResult.error),(u=(c=this.options).onSettled)==null||u.call(c,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:d})=>{d(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function ur(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function dt(t,e){return ur(t,e)||t.state.dataUpdatedAt>0&&je(t,e,e.refetchOnMount)}function je(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Ue(t,e)}return!1}function ft(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Ue(t,n)}function Ue(t,e){return t.isStaleByTime(e.staleTime)}function cr(t,e,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?e.isPlaceholderData:!Ee(t.getCurrentResult(),e)}class lr extends vt{constructor(e,n){super(),this.client=e,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=this.client.defaultMutationOptions(e),Ee(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const n={listeners:!0};e.type==="success"?n.onSuccess=!0:e.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:tr(),n={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(e){z.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var n,r,o,s;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(o=(s=this.mutateOptions).onSettled)==null||o.call(s,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var i,a,u,c;(i=(a=this.mutateOptions).onError)==null||i.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(u=(c=this.mutateOptions).onSettled)==null||u.call(c,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:d})=>{d(this.currentResult)})})}}var ke={},dr={get exports(){return ke},set exports(t){ke=t}},bt={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var te=f;function fr(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hr=typeof Object.is=="function"?Object.is:fr,pr=te.useState,_r=te.useEffect,mr=te.useLayoutEffect,vr=te.useDebugValue;function Er(t,e){var n=e(),r=pr({inst:{value:n,getSnapshot:e}}),o=r[0].inst,s=r[1];return mr(function(){o.value=n,o.getSnapshot=e,Ce(o)&&s({inst:o})},[t,n,e]),_r(function(){return Ce(o)&&s({inst:o}),t(function(){Ce(o)&&s({inst:o})})},[t]),vr(n),n}function Ce(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hr(t,n)}catch{return!0}}function br(t,e){return e()}var gr=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?br:Er;bt.useSyncExternalStore=te.useSyncExternalStore!==void 0?te.useSyncExternalStore:gr;(function(t){t.exports=bt})(dr);const gt=ke.useSyncExternalStore,xt=f.createContext(!1),xr=()=>f.useContext(xt);xt.Provider;function yr(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const Rr=f.createContext(yr()),Or=()=>f.useContext(Rr);function yt(t,e){return typeof t=="function"?t(...e):!!t}const Tr=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Sr=t=>{f.useEffect(()=>{t.clearReset()},[t])},Cr=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&yt(n,[t.error,r]),Nr=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},wr=(t,e)=>t.isLoading&&t.isFetching&&!e,jr=(t,e,n)=>(t==null?void 0:t.suspense)&&wr(e,n),kr=(t,e,n)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{n.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function Ir(t,e){const n=Et({context:t.context}),r=xr(),o=Or(),s=n.defaultQueryOptions(t);s._optimisticResults=r?"isRestoring":"optimistic",s.onError&&(s.onError=z.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=z.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=z.batchCalls(s.onSettled)),Nr(s),Tr(s,o),Sr(o);const[i]=f.useState(()=>new e(n,s)),a=i.getOptimisticResult(s);if(gt(f.useCallback(u=>{const c=r?()=>{}:i.subscribe(z.batchCalls(u));return i.updateResult(),c},[i,r]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),f.useEffect(()=>{i.setOptions(s,{listeners:!1})},[s,i]),jr(s,a,r))throw kr(s,i,o);if(Cr({result:a,errorResetBoundary:o,useErrorBoundary:s.useErrorBoundary,query:i.getCurrentQuery()}))throw a.error;return s.notifyOnChangeProps?a:i.trackResult(a)}function Pr(t,e,n){const r=rr(t,e,n);return Ir(r,ar)}function Ur(t,e,n){const r=nr(t,e,n),o=Et({context:r.context}),[s]=f.useState(()=>new lr(o,r));f.useEffect(()=>{s.setOptions(r)},[s,r]);const i=gt(f.useCallback(u=>s.subscribe(z.batchCalls(u)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=f.useCallback((u,c)=>{s.mutate(u,c).catch(Ar)},[s]);if(i.error&&yt(s.options.useErrorBoundary,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function Ar(){}const Lr="_button_base_17305_1",Mr="_button_default_17305_25",Dr="_button_accent_17305_37",Fr="_button_stretch_17305_91",_e={button_base:Lr,button_default:Mr,button_accent:Dr,"button_size-default":"_button_size-default_17305_61","button_size-long":"_button_size-long_17305_69","button_size-xlong":"_button_size-xlong_17305_77","button_size-xxlong":"_button_size-xxlong_17305_83",button_stretch:Fr},Ae=f.memo(f.forwardRef(({children:t,className:e,stretch:n,theme:r="default",size:o="default",...s},i)=>l.jsx("button",{...s,ref:i,className:Y(e,_e.button_base,_e[`button_${r}`],_e[`button_size-${o}`],{[_e.button_stretch]:n}),children:t})));Ae.displayName="memo(Button)";const Qr="_nav_xardr_1",$r="_nav__list_xardr_19",Gr="_nav__link_xardr_37",zr="_nav__item_xardr_47",Hr="_nav__link_active_xardr_99",Xr="_nav__hover_xardr_109",Yr="_nav__sign_xardr_131",Q={nav:Qr,nav__list:$r,nav__link:Gr,nav__item:zr,nav__link_active:Hr,nav__hover:Xr,nav__sign:Yr},Vr=[{path:p.DEFAULT_ROUTE,title:"Главная"},{path:p.TASKS_ROUTE,title:"Задачи"},{path:p.CONSTRUCTORS_ROUTE,title:"Конструкторы"},{path:p.RESULTS_ROUTE,title:"Результаты"},{path:p.EXAMPLES_ROUTE,title:"Примеры"},{path:p.ABOUT_ROUTE,title:"О нас"}],qr="_badge_1vio8_1",Br={badge:qr},Rt=25,Ot=25,de=f.memo(f.forwardRef(({children:t,src:e,to:n,height:r=Rt,width:o=Ot,className:s,...i},a)=>{const u=l.jsxs("figure",{className:Y(Br.badge,s),ref:a,tabIndex:0,...i,children:[l.jsx("figcaption",{children:t}),l.jsx("img",{src:e,width:o,height:r})]});return n?l.jsx(j,{to:n,children:u}):u}));de.displayName="memo(Badge)";const Wr="http://localhost:3001",le=ee([]),Kr=ee(t=>t(le)),Jr=ee(null,(t,e,n)=>e(le,[...t(le),n])),Zr=ee(null,(t,e,n)=>e(le,t(le).filter(r=>r.id!==n)));function en(){const[,t]=xe(Jr);return f.useMemo(()=>({push(e){t({...e,id:crypto.randomUUID(),nodeRef:f.createRef()})}}),[])}async function tn(t){return t.ok?t.json():Promise.reject(await t.json())}async function rn(t,e){let n={};return((e==null?void 0:e.method)==="POST"||e!=null&&e.body)&&(n={"Content-Type":"application/json"}),fetch(t,{method:e!=null&&e.body?"POST":"GET",credentials:"include",redirect:"follow",...e,body:(e==null?void 0:e.body)&&JSON.stringify(e==null?void 0:e.body),headers:{...(e==null?void 0:e.headers)||{},...n}}).then(tn)}const Ps=function(t,e="Запрос выполнен успешно!"){const n=en();return Ur({...t,onError(r){var o;if(r&&typeof r=="object"&&"message"in r&&typeof r.message=="string"){n.push({title:r.message,theme:"error"});return}if(r&&typeof r=="string"){n.push({title:r,theme:"error"});return}(o=t==null?void 0:t.onError)==null||o.call(t)},onSuccess(){var r;e&&n.push({title:e,theme:"success"}),(r=t==null?void 0:t.onSuccess)==null||r.call(t)}})},nn={SIGN_UP:"sign-up",SIGN_IN:"sign-in",ME:"me"},sn=`${Wr}/ME_QUERY`;async function on(){return rn(sn)}const Le=()=>Pr({queryKey:[nn.ME],queryFn:()=>on(),keepPreviousData:!0,refetchOnReconnect:!0,staleTime:1/0});function ce(){return ce=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ce.apply(this,arguments)}var an=function(e,n){n===void 0&&(n=!0),f.useEffect(function(){if(n){var r=function(s){s.key==="Escape"&&e(s)};return document.addEventListener("keyup",r),function(){n&&document.removeEventListener("keyup",r)}}},[e,n])},un=function(e,n){n===void 0&&(n=!0),f.useEffect(function(){if(n){var r=function(){e()};return window.addEventListener("resize",r),function(){n&&window.removeEventListener("resize",r)}}},[e,n])},cn=function(e,n,r){r===void 0&&(r=!0),f.useEffect(function(){if(r){var o=function(i){var a=Array.isArray(e)?e:[e],u=!1;a.forEach(function(c){if(!c.current||c.current.contains(i.target)){u=!0;return}}),i.stopPropagation(),u||n(i)};return document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),function(){r&&(document.removeEventListener("mousedown",o),document.removeEventListener("touchstart",o))}}},[e,n,r])},ln=function(e,n){n===void 0&&(n=!0),f.useEffect(function(){if(n){var r=function(s){if(s.keyCode===9){var i,a=e==null||(i=e.current)===null||i===void 0?void 0:i.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),u=Array.prototype.slice.call(a);if(u.length===1){s.preventDefault();return}var c=u[0],d=u[u.length-1];s.shiftKey&&document.activeElement===c?(s.preventDefault(),d.focus()):document.activeElement===d&&(s.preventDefault(),c.focus())}};return document.addEventListener("keydown",r),function(){n&&document.removeEventListener("keydown",r)}}},[e,n])},dn=typeof window<"u"?f.useLayoutEffect:f.useEffect,ie={popupContent:{tooltip:{position:"absolute",zIndex:999},modal:{position:"relative",margin:"auto"}},popupArrow:{height:"8px",width:"16px",position:"absolute",background:"transparent",color:"#FFF",zIndex:-1},overlay:{tooltip:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:999},modal:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",zIndex:999}}},fn=["top left","top center","top right","right top","right center","right bottom","bottom left","bottom center","bottom right","left top","left center","left bottom"],hn=function(e,n,r,o,s){var i=s.offsetX,a=s.offsetY,u=o?8:0,c=r.split(" "),d=e.top+e.height/2,h=e.left+e.width/2,m=n.height,E=n.width,O=d-m/2,g=h-E/2,b="",S="0%",k="0%";switch(c[0]){case"top":O-=m/2+e.height/2+u,b="rotate(180deg)  translateX(50%)",S="100%",k="50%";break;case"bottom":O+=m/2+e.height/2+u,b="rotate(0deg) translateY(-100%) translateX(-50%)",k="50%";break;case"left":g-=E/2+e.width/2+u,b=" rotate(90deg)  translateY(50%) translateX(-25%)",k="100%",S="50%";break;case"right":g+=E/2+e.width/2+u,b="rotate(-90deg)  translateY(-150%) translateX(25%)",S="50%";break}switch(c[1]){case"top":O=e.top,S=e.height/2+"px";break;case"bottom":O=e.top-m+e.height,S=m-e.height/2+"px";break;case"left":g=e.left,k=e.width/2+"px";break;case"right":g=e.left-E+e.width,k=E-e.width/2+"px";break}return O=c[0]==="top"?O-a:O+a,g=c[0]==="left"?g-i:g+i,{top:O,left:g,transform:b,arrowLeft:k,arrowTop:S}},pn=function(e){var n={top:0,left:0,width:window.innerWidth,height:window.innerHeight};if(typeof e=="string"){var r=document.querySelector(e);r!==null&&(n=r.getBoundingClientRect())}return n},_n=function(e,n,r,o,s,i){var a=s.offsetX,u=s.offsetY,c={arrowLeft:"0%",arrowTop:"0%",left:0,top:0,transform:"rotate(135deg)"},d=0,h=pn(i),m=Array.isArray(r)?r:[r];for((i||Array.isArray(r))&&(m=[].concat(m,fn));d<m.length;){c=hn(e,n,m[d],o,{offsetX:a,offsetY:u});var E={top:c.top,left:c.left,width:n.width,height:n.height};if(E.top<=h.top||E.left<=h.left||E.top+E.height>=h.top+h.height||E.left+E.width>=h.left+h.width)d++;else break}return c},mn=0,vn=function(){var e=document.getElementById("popup-root");return e===null&&(e=document.createElement("div"),e.setAttribute("id","popup-root"),document.body.appendChild(e)),e},En=f.forwardRef(function(t,e){var n=t.trigger,r=n===void 0?null:n,o=t.onOpen,s=o===void 0?function(){}:o,i=t.onClose,a=i===void 0?function(){}:i,u=t.defaultOpen,c=u===void 0?!1:u,d=t.open,h=d===void 0?void 0:d,m=t.disabled,E=m===void 0?!1:m,O=t.nested,g=O===void 0?!1:O,b=t.closeOnDocumentClick,S=b===void 0?!0:b,k=t.repositionOnResize,C=k===void 0?!0:k,V=t.closeOnEscape,re=V===void 0?!0:V,q=t.on,B=q===void 0?["click"]:q,R=t.contentStyle,ne=R===void 0?{}:R,fe=t.arrowStyle,ye=fe===void 0?{}:fe,Ge=t.overlayStyle,Ut=Ge===void 0?{}:Ge,ze=t.className,W=ze===void 0?"":ze,He=t.position,At=He===void 0?"bottom center":He,Xe=t.modal,Ye=Xe===void 0?!1:Xe,Ve=t.lockScroll,qe=Ve===void 0?!1:Ve,Be=t.arrow,Re=Be===void 0?!0:Be,We=t.offsetX,Lt=We===void 0?0:We,Ke=t.offsetY,Mt=Ke===void 0?0:Ke,Je=t.mouseEnterDelay,Dt=Je===void 0?100:Je,Ze=t.mouseLeaveDelay,Ft=Ze===void 0?100:Ze,et=t.keepTooltipInside,Qt=et===void 0?!1:et,he=t.children,tt=f.useState(h||c),P=tt[0],rt=tt[1],U=f.useRef(null),N=f.useRef(null),D=f.useRef(null),nt=f.useRef(null),st=f.useRef("popup-"+ ++mn),w=Ye?!0:!r,se=f.useRef(0);dn(function(){return P?(nt.current=document.activeElement,ot(),Ht(),Gt()):zt(),function(){clearTimeout(se.current)}},[P]),f.useEffect(function(){typeof h=="boolean"&&(h?pe():L())},[h,E]);var pe=function(_){P||E||(rt(!0),setTimeout(function(){return s(_)},0))},L=function(_){var T;!P||E||(rt(!1),w&&((T=nt.current)===null||T===void 0||T.focus()),setTimeout(function(){return a(_)},0))},Oe=function(_){_==null||_.stopPropagation(),P?L(_):pe(_)},Te=function(_){clearTimeout(se.current),se.current=setTimeout(function(){return pe(_)},Dt)},$t=function(_){_==null||_.preventDefault(),Oe()},Se=function(_){clearTimeout(se.current),se.current=setTimeout(function(){return L(_)},Ft)},Gt=function(){w&&qe&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},zt=function(){w&&qe&&(document.getElementsByTagName("body")[0].style.overflow="auto")},Ht=function(){var _,T=N==null||(_=N.current)===null||_===void 0?void 0:_.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),x=Array.prototype.slice.call(T)[0];x==null||x.focus()};f.useImperativeHandle(e,function(){return{open:function(){pe()},close:function(){L()},toggle:function(){Oe()}}});var ot=function(){if(!(w||!P)&&!(!(U!=null&&U.current)||!(U!=null&&U.current)||!(N!=null&&N.current))){var _=U.current.getBoundingClientRect(),T=N.current.getBoundingClientRect(),x=_n(_,T,At,Re,{offsetX:Lt,offsetY:Mt},Qt);if(N.current.style.top=x.top+window.scrollY+"px",N.current.style.left=x.left+window.scrollX+"px",Re&&D.current){var F,oe;D.current.style.transform=x.transform,D.current.style.setProperty("-ms-transform",x.transform),D.current.style.setProperty("-webkit-transform",x.transform),D.current.style.top=((F=ye.top)===null||F===void 0?void 0:F.toString())||x.arrowTop,D.current.style.left=((oe=ye.left)===null||oe===void 0?void 0:oe.toString())||x.arrowLeft}}};an(L,re),ln(N,P&&w),un(ot,C),cn(r?[N,U]:[N],L,S&&!g);var Xt=function(){for(var _={key:"T",ref:U,"aria-describedby":st.current},T=Array.isArray(B)?B:[B],x=0,F=T.length;x<F;x++)switch(T[x]){case"click":_.onClick=Oe;break;case"right-click":_.onContextMenu=$t;break;case"hover":_.onMouseEnter=Te,_.onMouseLeave=Se;break;case"focus":_.onFocus=Te,_.onBlur=Se;break}if(typeof r=="function"){var oe=r(P);return!!r&&v.cloneElement(oe,_)}return!!r&&v.cloneElement(r,_)},Yt=function(){var _=w?ie.popupContent.modal:ie.popupContent.tooltip,T={className:"popup-content "+(W!==""?W.split(" ").map(function(x){return x+"-content"}).join(" "):""),style:ce({},_,ne,{pointerEvents:"auto"}),ref:N,onClick:function(F){F.stopPropagation()}};return!Ye&&B.indexOf("hover")>=0&&(T.onMouseEnter=Te,T.onMouseLeave=Se),T},it=function(){return v.createElement("div",Object.assign({},Yt(),{key:"C",role:w?"dialog":"tooltip",id:st.current}),Re&&!w&&v.createElement("div",{ref:D,style:ie.popupArrow},v.createElement("svg",{"data-testid":"arrow",className:"popup-arrow "+(W!==""?W.split(" ").map(function(_){return _+"-arrow"}).join(" "):""),viewBox:"0 0 32 16",style:ce({position:"absolute"},ye)},v.createElement("path",{d:"M16 0l16 16H0z",fill:"currentcolor"}))),he&&typeof he=="function"?he(L,P):he)},Vt=!(B.indexOf("hover")>=0),qt=w?ie.overlay.modal:ie.overlay.tooltip,Bt=[Vt&&v.createElement("div",{key:"O","data-testid":"overlay","data-popup":w?"modal":"tooltip",className:"popup-overlay "+(W!==""?W.split(" ").map(function(y){return y+"-overlay"}).join(" "):""),style:ce({},qt,Ut,{pointerEvents:S&&g||w?"auto":"none"}),onClick:S&&g?L:void 0,tabIndex:-1},w&&it()),!w&&it()];return v.createElement(v.Fragment,null,Xt(),P&&H.createPortal(Bt,vn()))});const Tt=f.forwardRef(({closeOnScroll:t=!1,...e},n)=>{const r=f.useRef(null);f.useEffect(()=>{if(!t)return;function s(){var i;r&&((i=r.current)==null||i.close())}return document.addEventListener("scroll",s),()=>document.removeEventListener("scroll",s)},[r.current]);function o(s){typeof n=="function"?n(s):n&&(n.current=s),r.current=s}return l.jsx(En,{...e,ref:o})}),bn="_popup_6jlc8_1",gn="_popup__badge_6jlc8_11",xn="_popup__list_6jlc8_25",yn="_popup__item_6jlc8_63",Rn="_popup__subscribe_6jlc8_77",I={popup:bn,popup__badge:gn,popup__list:xn,"popup__nolink-item":"_popup__nolink-item_6jlc8_41",popup__item:yn,popup__subscribe:Rn},On=[{path:p.PROFILE_ROUTE,title:"Профиль"},{path:p.SETTINGS_ROUTE,title:"Настройки"},{path:p.PROFILE_CONSTRUCTORS_ROUTE,title:"Конструкторы"},{path:p.PROFILE_TASKS_ROUTE,title:"Задачи"}],Tn="_hr_1fddy_1",Sn={hr:Tn},ht=()=>l.jsx("hr",{className:Sn.hr}),Cn=({children:t,isInPopup:e,onChange:n,value:r})=>{const[o,s]=f.useState(r),i=f.useRef(null);f.useEffect(()=>{o!==r&&s(r)},[r]);function a(c){var d;s(c),n==null||n(c),(d=i.current)==null||d.close()}const u=f.useMemo(()=>{let c="";return v.Children.forEach(t,d=>{d.props.name===o&&(c=String(d.props.title||d.props.children))}),c},[o]);return l.jsx(Tt,{ref:i,trigger:l.jsx(de,{src:"./select-icon.svg",children:u}),nested:e,arrow:!1,children:v.Children.map(t,c=>v.cloneElement(c,{...c.props,_onSelect:a,_isNowSelected:o===c.props.name}))})},Nn="_option_re729_1",wn={option:Nn},Ne=({children:t,title:e,_isNowSelected:n,_onSelect:r,name:o})=>{const s=f.useRef(null);return f.useEffect(()=>{var i;n&&((i=s.current)==null||i.focus())},[n,s.current]),l.jsx(Ae,{stretch:!0,className:wn.option,role:"option",ref:s,onClick:()=>r==null?void 0:r(String(o)),children:t})},jn=Symbol(),kn=t=>typeof(t==null?void 0:t.then)=="function";function In(t){let e,n;const r={getItem:(o,s)=>{var i,a;const u=d=>{if(d=d||"",e!==d){try{n=JSON.parse(d)}catch{return s}e=d}return n},c=(a=(i=t())==null?void 0:i.getItem(o))!=null?a:null;return kn(c)?c.then(u):u(c)},setItem:(o,s)=>{var i;return(i=t())==null?void 0:i.setItem(o,JSON.stringify(s))},removeItem:o=>{var s;return(s=t())==null?void 0:s.removeItem(o)}};return typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(r.subscribe=(o,s,i)=>{if(!(t()instanceof window.Storage))return()=>{};const a=u=>{if(u.storageArea===t()&&u.key===o){let c;try{c=JSON.parse(u.newValue||"")}catch{c=i}s(c)}};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}}),r}const Pn=In(()=>typeof window<"u"?window.localStorage:void 0);function Un(t,e,n=Pn,r){const o=r==null?void 0:r.unstable_getOnInit,s=ee(o?n.getItem(t,e):e);return s.onMount=a=>{o||a(n.getItem(t,e));let u;return n.subscribe&&(u=n.subscribe(t,a,e)),u},ee(a=>a(s),(a,u,c)=>{const d=typeof c=="function"?c(a(s)):c;return d===jn?(u(s,e),n.removeItem(t)):d instanceof Promise?d.then(h=>(u(s,h),n.setItem(t,h))):(u(s,d),n.setItem(t,d))})}const An=Un("mode","light"),Ln=()=>{const{data:t}=Le(),[e,n]=xe(An);if(!t)return null;const{avatarUrl:r,email:o}=t;return l.jsxs("section",{className:I.popup,children:[l.jsx(de,{to:p.PROFILE_ROUTE,src:r||"/default-avatar.svg",className:I.popup__badge,width:25,height:25,children:o}),l.jsx("ul",{className:I.popup__list,children:On.map(s=>l.jsx("li",{className:I.popup__item,children:l.jsx(j,{to:s.path,theme:"block-hover",children:s.title})},s.path))}),l.jsx(ht,{}),l.jsxs("ul",{className:I.popup__list,children:[l.jsx("li",{className:I.popup__item,children:l.jsx(j,{to:p.HELP_ROUTE,theme:"block-hover",children:"Поддрежка"})}),l.jsxs("li",{className:I["popup__nolink-item"],children:[l.jsx("p",{children:"Тема сайта"}),l.jsxs(Cn,{isInPopup:!0,value:e,onChange:s=>n(s),children:[l.jsx(Ne,{name:"light",children:"Светлая"}),l.jsx(Ne,{name:"dark",children:"Темная"}),l.jsx(Ne,{name:"system",children:"Системная"})]})]})]}),l.jsx(ht,{}),l.jsxs("ul",{className:I.popup__list,children:[l.jsx("li",{className:I.popup__item,children:l.jsx(j,{to:p.DEFAULT_ROUTE,theme:"block-hover",children:"Домашняя страница"})}),l.jsx("li",{className:I.popup__item,children:l.jsx(j,{to:p.DEFAULT_ROUTE,theme:"block-hover",isAlert:!0,children:"Выйти"})})]}),l.jsx(Ae,{className:I.popup__subscribe,theme:"accent",size:"long",children:"Оплатить подписку"})]})},St=f.memo(()=>{const[t,e]=f.useState(),{isError:n,isLoading:r,data:o}=Le(),s=n||r;function i(c){const d=c.target;if(!(d instanceof HTMLElement))return;const h=d.closest("li").childNodes[0];e({transform:`translateY(-50%) translateX(${h.offsetLeft-5}px)`,width:h.clientWidth+10+"px"})}function a(){e(c=>({...c,opacity:0}))}const u=l.jsx(de,{src:(o==null?void 0:o.avatarUrl)||"/default-avatar.svg",width:25,height:25});return l.jsxs("nav",{className:Q.nav,children:[l.jsxs("ul",{className:Q.nav__list,children:[l.jsx("div",{className:Q.nav__hover,style:t}),Vr.map(c=>l.jsx("li",{className:Q.nav__item,onMouseEnter:i,onMouseLeave:a,children:l.jsx(j,{className:({isActive:d})=>Y(Q.nav__link,{[Q.nav__link_active]:d}),to:c.path,children:c.title})},c.path))]}),l.jsx("div",{className:Q.nav__sign,children:s?l.jsxs(l.Fragment,{children:[l.jsx(j,{to:p.SIGN_IN_ROUTE,children:"Войти"}),l.jsx(j,{to:p.SIGN_UP_ROUTE,theme:"accent",children:"Регистрация"})]}):l.jsx(Tt,{nested:!0,trigger:u,arrow:!1,closeOnScroll:!0,keepTooltipInside:!0,position:"bottom left",children:l.jsx(Ln,{})})})]})});St.displayName="memo(Nav)";const Mn="_breadcrumbs_e4vsb_1",Dn="_breadcrumbs__wrapper_e4vsb_13",Fn="_breadcrumbs__item_e4vsb_27",Qn="_breadcrumbs__title_e4vsb_47",$n="_breadcrumbs__img_e4vsb_55",Gn="_breadcrumbs__separator_e4vsb_63",K={breadcrumbs:Mn,breadcrumbs__wrapper:Dn,breadcrumbs__item:Fn,breadcrumbs__title:Qn,breadcrumbs__img:$n,breadcrumbs__separator:Gn};function zn(){const t=sr();return f.useMemo(()=>{const e=t.pathname.replaceAll("/"," ").trim().split(" ");e[0]&&e.unshift("");const n=e.reduce((r,o)=>{var s,i,a;return r.push({icon:((s=lt[`/${o}`])==null?void 0:s.icon)||"",title:((i=lt[`/${o}`])==null?void 0:i.title)||"",path:(((a=r[r.length-1])==null?void 0:a.path)||"")+o+"/"}),r},[]);return n.length>1&&(n[0].title=""),n},[t.pathname])}const Ct=f.memo(({withHelp:t})=>{const e=zn();return l.jsxs("div",{className:K.breadcrumbs__wrapper,children:[l.jsx("div",{className:K.breadcrumbs,children:e.map(n=>l.jsxs(v.Fragment,{children:[l.jsxs(or,{className:K.breadcrumbs__item,to:n.path,children:[l.jsx("img",{className:K.breadcrumbs__img,src:n.icon,alt:n.title||"Иконка страницы",width:Ot,height:Rt}),n.title&&l.jsx("p",{className:K.breadcrumbs__title,children:n.title})]}),l.jsx("span",{className:K.breadcrumbs__separator,children:"/"})]},n.path))}),t&&l.jsx(de,{src:"/help.svg",to:"/help",children:"Помощь"})]})});Ct.displayName="memo(Breadcrumbs)";const Hn="_header__breadcrumbs_1ns2m_1",Xn="_header__nav_1ns2m_3",pt={header__breadcrumbs:Hn,header__nav:Xn};function Nt(t="div"){const[e,n]=f.useState(null);return f.useEffect(()=>{const r=document.createElement(t);return n(r),document.body.appendChild(r),()=>{r.remove(),n(null)}},[]),e}const Yn="_modal_1cbd7_1",Vn={modal:Yn};function be(){return be=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},be.apply(this,arguments)}function Me(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function Ie(t,e){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Ie(t,e)}function De(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ie(t,e)}function qn(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Bn(t,e){t.classList?t.classList.add(e):qn(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function _t(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Wn(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=_t(t.className,e):t.setAttribute("class",_t(t.className&&t.className.baseVal||"",e))}const mt={disabled:!1},ge=v.createContext(null);var wt=function(e){return e.scrollTop},ue="unmounted",$="exited",G="entering",Z="entered",Pe="exiting",A=function(t){De(e,t);function e(r,o){var s;s=t.call(this,r,o)||this;var i=o,a=i&&!i.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?a?(u=$,s.appearStatus=G):u=Z:r.unmountOnExit||r.mountOnEnter?u=ue:u=$,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(o,s){var i=o.in;return i&&s.status===ue?{status:$}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var s=null;if(o!==this.props){var i=this.state.status;this.props.in?i!==G&&i!==Z&&(s=G):(i===G||i===Z)&&(s=Pe)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,s,i,a;return s=i=a=o,o!=null&&typeof o!="number"&&(s=o.exit,i=o.enter,a=o.appear!==void 0?o.appear:i),{exit:s,enter:i,appear:a}},n.updateStatus=function(o,s){if(o===void 0&&(o=!1),s!==null)if(this.cancelNextCallback(),s===G){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:H.findDOMNode(this);i&&wt(i)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===$&&this.setState({status:ue})},n.performEnter=function(o){var s=this,i=this.props.enter,a=this.context?this.context.isMounting:o,u=this.props.nodeRef?[a]:[H.findDOMNode(this),a],c=u[0],d=u[1],h=this.getTimeouts(),m=a?h.appear:h.enter;if(!o&&!i||mt.disabled){this.safeSetState({status:Z},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:G},function(){s.props.onEntering(c,d),s.onTransitionEnd(m,function(){s.safeSetState({status:Z},function(){s.props.onEntered(c,d)})})})},n.performExit=function(){var o=this,s=this.props.exit,i=this.getTimeouts(),a=this.props.nodeRef?void 0:H.findDOMNode(this);if(!s||mt.disabled){this.safeSetState({status:$},function(){o.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Pe},function(){o.props.onExiting(a),o.onTransitionEnd(i.exit,function(){o.safeSetState({status:$},function(){o.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,s){s=this.setNextCallback(s),this.setState(o,s)},n.setNextCallback=function(o){var s=this,i=!0;return this.nextCallback=function(a){i&&(i=!1,s.nextCallback=null,o(a))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},n.onTransitionEnd=function(o,s){this.setNextCallback(s);var i=this.props.nodeRef?this.props.nodeRef.current:H.findDOMNode(this),a=o==null&&!this.props.addEndListener;if(!i||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],c=u[0],d=u[1];this.props.addEndListener(c,d)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===ue)return null;var s=this.props,i=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Me(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return v.createElement(ge.Provider,{value:null},typeof i=="function"?i(o,a):v.cloneElement(v.Children.only(i),a))},e}(v.Component);A.contextType=ge;A.propTypes={};function J(){}A.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:J,onEntering:J,onEntered:J,onExit:J,onExiting:J,onExited:J};A.UNMOUNTED=ue;A.EXITED=$;A.ENTERING=G;A.ENTERED=Z;A.EXITING=Pe;const Kn=A;var Jn=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Bn(e,r)})},we=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Wn(e,r)})},Fe=function(t){De(e,t);function e(){for(var r,o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return r=t.call.apply(t,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,u){var c=r.resolveArguments(a,u),d=c[0],h=c[1];r.removeClasses(d,"exit"),r.addClass(d,h?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,u)},r.onEntering=function(a,u){var c=r.resolveArguments(a,u),d=c[0],h=c[1],m=h?"appear":"enter";r.addClass(d,m,"active"),r.props.onEntering&&r.props.onEntering(a,u)},r.onEntered=function(a,u){var c=r.resolveArguments(a,u),d=c[0],h=c[1],m=h?"appear":"enter";r.removeClasses(d,m),r.addClass(d,m,"done"),r.props.onEntered&&r.props.onEntered(a,u)},r.onExit=function(a){var u=r.resolveArguments(a),c=u[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var u=r.resolveArguments(a),c=u[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var u=r.resolveArguments(a),c=u[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,u){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,u]},r.getClassNames=function(a){var u=r.props.classNames,c=typeof u=="string",d=c&&u?u+"-":"",h=c?""+d+a:u[a],m=c?h+"-active":u[a+"Active"],E=c?h+"-done":u[a+"Done"];return{baseClassName:h,activeClassName:m,doneClassName:E}},r}var n=e.prototype;return n.addClass=function(o,s,i){var a=this.getClassNames(s)[i+"ClassName"],u=this.getClassNames("enter"),c=u.doneClassName;s==="appear"&&i==="done"&&c&&(a+=" "+c),i==="active"&&o&&wt(o),a&&(this.appliedClasses[s][i]=a,Jn(o,a))},n.removeClasses=function(o,s){var i=this.appliedClasses[s],a=i.base,u=i.active,c=i.done;this.appliedClasses[s]={},a&&we(o,a),u&&we(o,u),c&&we(o,c)},n.render=function(){var o=this.props;o.classNames;var s=Me(o,["classNames"]);return v.createElement(Kn,be({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(v.Component);Fe.defaultProps={classNames:""};Fe.propTypes={};const jt=Fe;function Zn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qe(t,e){var n=function(s){return e&&f.isValidElement(s)?e(s):s},r=Object.create(null);return t&&f.Children.map(t,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function es(t,e){t=t||{},e=e||{};function n(d){return d in e?e[d]:t[d]}var r=Object.create(null),o=[];for(var s in t)s in e?o.length&&(r[s]=o,o=[]):o.push(s);var i,a={};for(var u in e){if(r[u])for(i=0;i<r[u].length;i++){var c=r[u][i];a[r[u][i]]=n(c)}a[u]=n(u)}for(i=0;i<o.length;i++)a[o[i]]=n(o[i]);return a}function X(t,e,n){return n[e]!=null?n[e]:t.props[e]}function ts(t,e){return Qe(t.children,function(n){return f.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:X(n,"appear",t),enter:X(n,"enter",t),exit:X(n,"exit",t)})})}function rs(t,e,n){var r=Qe(t.children),o=es(e,r);return Object.keys(o).forEach(function(s){var i=o[s];if(f.isValidElement(i)){var a=s in e,u=s in r,c=e[s],d=f.isValidElement(c)&&!c.props.in;u&&(!a||d)?o[s]=f.cloneElement(i,{onExited:n.bind(null,i),in:!0,exit:X(i,"exit",t),enter:X(i,"enter",t)}):!u&&a&&!d?o[s]=f.cloneElement(i,{in:!1}):u&&a&&f.isValidElement(c)&&(o[s]=f.cloneElement(i,{onExited:n.bind(null,i),in:c.props.in,exit:X(i,"exit",t),enter:X(i,"enter",t)}))}}),o}var ns=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},ss={component:"div",childFactory:function(e){return e}},$e=function(t){De(e,t);function e(r,o){var s;s=t.call(this,r,o)||this;var i=s.handleExited.bind(Zn(s));return s.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(o,s){var i=s.children,a=s.handleExited,u=s.firstRender;return{children:u?ts(o,a):rs(o,i,a),firstRender:!1}},n.handleExited=function(o,s){var i=Qe(this.props.children);o.key in i||(o.props.onExited&&o.props.onExited(s),this.mounted&&this.setState(function(a){var u=be({},a.children);return delete u[o.key],{children:u}}))},n.render=function(){var o=this.props,s=o.component,i=o.childFactory,a=Me(o,["component","childFactory"]),u=this.state.contextValue,c=ns(this.state.children).map(i);return delete a.appear,delete a.enter,delete a.exit,s===null?v.createElement(ge.Provider,{value:u},c):v.createElement(ge.Provider,{value:u},v.createElement(s,a,c))},e}(v.Component);$e.propTypes={};$e.defaultProps=ss;const os=$e,kt=200,is=({isOpen:t,onClose:e,children:n})=>{const r=f.useRef(null),o=Nt("aside"),s=()=>{var u;return(u=r.current)==null?void 0:u.showModal()},i=()=>{var u;(u=r.current)==null||u.close()},a=u=>{if(!r.current)return;const c=r.current.getBoundingClientRect();c.top<=u.clientY&&u.clientY<=c.top+c.height&&c.left<=u.clientX&&u.clientX<=c.left+c.width||e()};return o?H.createPortal(l.jsx(jt,{nodeRef:r,in:t,unmountOnExit:!0,timeout:kt,onEnter:s,onExited:i,classNames:"modal",children:l.jsx("dialog",{ref:r,onClose:e,onClick:a,className:Vn.modal,children:n})}),o):null},It=f.memo(({withNav:t,withHelp:e})=>{const[n,r]=f.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:pt.header__breadcrumbs,onClick:()=>r(o=>!o),children:l.jsx(Ct,{withHelp:e})}),t&&l.jsx("div",{className:pt.header__nav,children:l.jsx(St,{})}),l.jsx(is,{isOpen:n,onClose:()=>r(o=>!o),children:"Хуй"})]})});It.displayName="memo(Header)";const as=[[[p.PAGE_404_ROUTE,"Документация"],[p.PAGE_404_ROUTE,"Правила"],[p.PAGE_404_ROUTE,"Помощь"],[p.PAGE_404_ROUTE,"Для посетителей"],[p.PAGE_404_ROUTE,"Команда сопровождения"],[p.PAGE_404_ROUTE,"Организаторам"]],[[p.PAGE_404_ROUTE,"Домашняя страница"],[p.PAGE_404_ROUTE,"О нас"],[p.PAGE_404_ROUTE,"Задачи прошлых лет"],[p.PAGE_404_ROUTE,"Вход"],[p.PAGE_404_ROUTE,"Регистрация"],[p.PAGE_404_ROUTE,"Результаты"],[p.PAGE_404_ROUTE,"Связаться с нами"],[p.PAGE_404_ROUTE,"Коммерческие предложения"]],[[p.PAGE_404_ROUTE,"Политика конфиденциальности"],[p.PAGE_404_ROUTE,"Условия использования"],[p.PAGE_404_ROUTE,"Политика в отношении товарных знаков"],[p.PAGE_404_ROUTE,"Соглашение об уровне обслуживания"],[p.PAGE_404_ROUTE,"Настройки файлов cookie"],[p.PAGE_404_ROUTE,"Условия конкурса"],[p.PAGE_404_ROUTE,"Другие нормативно-правовые документы"]]],us=["Ресурсы","Навигация","Документы"],cs="_footer_1kcdw_1",ls="_footer__grid_1kcdw_13",ds="_footer__list_1kcdw_27",fs="_footer__item_1kcdw_47",hs="_footer__image_1kcdw_55",ps="_footer__copyright_1kcdw_71",_s="_footer__created_1kcdw_81",M={footer:cs,footer__grid:ls,footer__list:ds,footer__item:fs,footer__image:hs,footer__copyright:ps,footer__created:_s},Pt=f.memo(()=>l.jsxs("footer",{className:M.footer,children:[l.jsxs("div",{className:M.footer__grid,children:[l.jsx(j,{to:p.DEFAULT_ROUTE,children:l.jsxs("figure",{className:M.footer__image,children:[l.jsx("img",{src:"/home-icon.svg",alt:"",width:35,height:35}),l.jsx("figcaption",{children:"КИО"})]})}),as.map((t,e)=>l.jsxs("ul",{className:M.footer__list,children:[l.jsx("li",{className:M.footer__item,children:us[e]}),t.map(([n,r],o)=>l.jsx("li",{className:M.footer__item,children:l.jsx(j,{to:n,theme:"underline",children:r})},o))]},e))]}),l.jsxs("div",{className:M.footer__copyright,children:[l.jsx("p",{children:"CopyRight © 2013-2023 Центр информатизации образования «КИО». Все права защищены."}),l.jsxs("div",{className:M.footer__created,children:[l.jsx("p",{children:"Создатели: "}),l.jsx(j,{to:"https://github.com/kyzinatra",theme:"underline",children:"kyzinatra"}),l.jsx(j,{to:"https://github.com/yandrinsky",theme:"underline",children:"yandrinsky"})]})]})]}));Pt.displayName="memo(Footer)";const ms="_page_1i25c_1",me={page:ms,"page-text":"_page-text_1i25c_15","page-text__contact":"_page-text__contact_1i25c_31","page-text__link":"_page-text__link_1i25c_41"},vs="_loader_9ukfu_1",Es="_loader__hidden_9ukfu_41",bs="_hidden_9ukfu_1",ae={loader:vs,"loader__gradient--default":"_loader__gradient--default_9ukfu_17","loader__gradient--blueToСyan":"_loader__gradient--blueToСyan_9ukfu_25","loader__gradient--violetToMagenta":"_loader__gradient--violetToMagenta_9ukfu_33",loader__hidden:Es,hidden:bs},gs=({theme:t="default",className:e})=>{const n=Y(ae.loader,ae.loader__hidden),r=Y(ae.loader,ae[`loader__gradient--${t}`]);return l.jsxs("div",{className:Y(ae.loader,e),children:[l.jsx("div",{className:r}),l.jsx("div",{className:n})]})},xs=({theme:t})=>l.jsxs("main",{className:me.page,children:[l.jsx(gs,{theme:t}),l.jsxs("div",{className:me["page-text"],children:[l.jsx("span",{children:"Загрузка страницы..."}),l.jsxs("span",{className:me["page-text__contact"],children:["Если загрузка идет слишком долго",l.jsx(j,{to:p.PAGE_404_ROUTE,className:me["page-text__link"],theme:"underline",children:"напишите нам"})]})]})]}),ys="_toasts_1ou2h_1",Rs={toasts:ys};const Os="_toasts__item_hgy0w_1",Ts="_toast__item_error_hgy0w_51",Ss="_toast__item_info_hgy0w_59",Cs="_toast__item_warning_hgy0w_67",Ns="_toast__item_success_hgy0w_75",ve={"toasts__item-times":"_toasts__item-times_hgy0w_1","toasts__item-text":"_toasts__item-text_hgy0w_21",toasts__item:Os,toast__item_error:Ts,toast__item_info:Ss,toast__item_warning:Cs,toast__item_success:Ns},ws=f.forwardRef(({id:t,title:e,theme:n="info",timeout:r=5e3},o)=>{const[,s]=xe(Zr),i=f.useRef(null);f.useEffect(()=>(i.current=setTimeout(a,+(r||0)),()=>{i.current&&clearTimeout(i.current)}),[]);function a(){i.current&&clearTimeout(i.current),s(t)}return l.jsxs("div",{ref:o,className:Y(ve.toasts__item,ve["toast__item_"+n]),children:[l.jsx("span",{className:ve["toasts__item-text"],children:e}),l.jsx("span",{className:ve["toasts__item-times"],onClick:a,children:"×"})]})}),js=()=>{const[t]=xe(Kr),e=Nt("aside");return e?H.createPortal(l.jsx(os,{className:Rs.toasts,children:t.map(({id:n,nodeRef:r,...o})=>l.jsx(jt,{timeout:kt,in:!0,nodeRef:r,classNames:"toasts__item",children:l.jsx(ws,{id:n,ref:r,...o})},n))}),e):null},ks={UNAUTHORIZED:"UNAUTHORIZED"},Us=({withNav:t,withHelp:e,withFooter:n,children:r,protectedFrom:o})=>{const{isLoading:s,error:i,data:a}=Le();return s&&!i&&!a?l.jsx(xs,{}):(i==null?void 0:i.name)===ks.UNAUTHORIZED&&o==="anonymous"||a&&o==="authorized"?l.jsx(ir,{to:p.DEFAULT_ROUTE}):l.jsxs(l.Fragment,{children:[l.jsx(It,{withNav:t,withHelp:e}),r,n&&l.jsx(Pt,{}),l.jsx(js,{})]})};export{Ae as B,jt as C,Z as E,Us as L,nn as Q,ge as T,De as _,Wr as a,G as b,Pe as c,en as d,kt as e,be as f,Me as g,rn as m,Ps as u};
